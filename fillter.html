<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="main-page.css">
  <link rel="stylesheet" href="filter_css.css">
  <link rel="stylesheet" href="JS.js">
  <title>Document</title>
</head>

<body>
<script src="jquery-3.6.0.js"  type="text/javascript"></script>

<!-- fillter -->
<div class="landing-page-8">   

  <div class="overlay-8">
    
<div class="filter">

  <br>
<h1>Filter by</h1>
<hr>

<div class="contener-collection">

<div class="dropdown">
  <div  class="dropbtn"><span class="co">Collection</span>  <span class="sign">+</span> </div>
  <div id="myDropdown" class="dropdown-content">
    <a href="#" class="all">All</a>  
    <a href="#" class="best-year">The best of the year</a>
    <a href="#" class="novel">Novel</a>
    <a href="#" class="m-rec">This Month's Recommended</a>
  </div>
</div>
                   <hr>
                                    </div>
                                   

<div class="set-price">

<div class="dropdown">
  <div  class="dropbtn-2"><span class="co">Price</span>  <span class="sign">+</span> </div>
  <div id="myDropdown-2" class="dropdown-content-2">
    
 


  <!-- <div  class="price"><span>Price</span> <span class="sign-price">+</span></div> -->


  <div slider id="slider-distance">
    <div>
      <div inverse-left style="width:70%;"></div>
      <div inverse-right style="width:70%;"></div>
      <div range style="left:0%;right:0%;"></div>
      <span thumb style="left:0%;"></span>
      <span thumb style="left:100%;"></span>
      <div sign style="left:0%;">
        <span id="value">$ 0</span>
      </div>
      <div sign style="left:100%;">
        <span id="value">$ 100</span>
      </div>
    </div>
    <input class="range-1" type="range" value="0" max="100" min="0" step="1" oninput="
    this.value=Math.min(this.value,this.parentNode.childNodes[5].value-1);
    let value = (this.value/parseInt(this.max))*100
    var children = this.parentNode.childNodes[1].childNodes;
    children[1].style.width=value+'%';
    children[5].style.left=value+'%';
    children[7].style.left=value+'%';children[11].style.left=value+'%';
    children[11].childNodes[1].innerHTML= '$ '+ this.value;" />
  
    <input class="range-2" type="range" value="100" max="100" min="0" step="1" oninput="
    this.value=Math.max(this.value,this.parentNode.childNodes[3].value-(-1));
    let value = (this.value/parseInt(this.max))*100
    var children = this.parentNode.childNodes[1].childNodes;
    children[3].style.width=(100-value)+'%';
    children[5].style.right=(100-value)+'%';
    children[9].style.left=value+'%';children[13].style.left=value+'%';
    children[13].childNodes[1].innerHTML='$ '+this.value;" />
  </div>


</div>


</div>
                   <hr>
</div>



     
</div>
 <!-- ************ books *************** -->
<div class="book-store">
  <div class="text">
  <h3>Our</h3>
  <h1>BOOK STORE</h1>
</div>


<!-- ------------- -->
<div class="whole-list-area">  <i id="left-2" class="arrow left"></i>  

  <div class="list-area">


   
<div class="listOf-books">

</div> 


</div>  

<i id="right-2" class="arrow right"></i> 

</div>
<!-- ----------------- -->


<!-- ************************************ -->
</div>


</div>
</div>



 




<script>

  $(function(){
    var coll=false;    
var price=false;
    $(".dropbtn").click(function(){
      if(coll==false){
        $(".contener-collection .sign").text("-");
        coll=true;
      }
      else{
        $(".contener-collection .sign").text("+");
        coll=false;
      }
      $("#myDropdown").toggle(400);
   });

    $(".dropbtn-2").click(function(){
      if(price==false){
        $(".set-price .sign").text("-");
        price=true;
      }
      else{
        $(".set-price .sign").text("+");
        price=false;
      }
      
       $("#myDropdown-2").toggle();
    });

  });





  $(function(){
  
  var css_quick_view={

    "height":"60px",
    "width":"180px",
     "background-color":"#ffffff99",
     "color":"black",
     "position":"absolute" ,
      "bottom":"-60px" ,
      "z-index": "-3",
      "transition": "0.4s",
    
}
var css_products={
  "z-index":"5",
"height":"300px",
"width":"180px",
"background-color":"brown",
"color":"white",
"margin-left":"30px",
"cursor": "pointer"  
}
var css_btn={
  "position":"absolute",
            "border":"none",
            "color":"white",
            "width": "100%",
            "padding":"10px 32px",
            "text-align":"center",
            "text-decoration":"none",
            "display":"none",
            "font-size":"16px",
            "transition-duration":"0.4s",
            "cursor":"pointer",
            "background-color": "brown",
              "color": "white",
              "border": "2px solid cornsilk"
}

var x=0;
var is_all=true;
var is_rec=false;
var is_novel=false;
var is_best=false;

var page="page-1";

var arr_btn_states=[];
 var the_total=0;
     

//-----------
var path_all="./books/all/";
var path_best="./books/best-sellers/";
var path_novel="./books/novel/";
var path_rec="./books/recommended/";



var str="book-";
//----------
  var novels= [ ["book" ,"20",path_novel+str+1], ["book" ,"25",path_novel+str+2], ["book" ,"30",path_novel+str+3], ["book" ,"32",path_novel+str+4], ["book" ,"40",path_novel+str+5],["book" ,"50",path_novel+str+6], ["book" ,"55",path_novel+str+7], ["book" ,"55",path_novel+str+8]];
  var all_books=[ ["book" ,"30",path_all+str+1], ["book" ,"35",path_all+str+2], ["book" ,"37",path_all+str+3], ["book" ,"40",path_all+str+4], ["book" ,"40",path_all+str+5],["book" ,"40",path_all+str+6],["book" ,"50",path_all+str+7], ["book" ,"55",path_all+str+8] ,["book" ,"60",path_all+str+9], ["book" ,"62",path_all+str+10], ["book" ,"62",path_all+str+11], ["book" ,"65",path_all+str+12], ["book" ,"70",path_all+str+13],["book" ,"75",path_all+str+14],["book" ,"80",path_all+str+15], ["book" ,"85",path_all+str+16]];
  var RecomnededBooks= [ ["book" ,"20",path_rec+str+1], ["book" ,"25",path_rec+str+2], ["book" ,"25",path_rec+str+3], ["book" ,"30",path_rec+str+4], ["book" ,"40",path_rec+str+5],["book" ,"40",path_rec+str+6],["book" ,"50",path_rec+str+7], ["book" ,"55",path_rec+str+8]];
  var best = [ ["book" ,"20",path_best+str+1], ["book" ,"25",path_best+str+2], ["book" ,"25",path_best+str+3], ["book" ,"30",path_best+str+4], ["book" ,"40",path_best+str+5],["book" ,"40",path_best+str+6],["book" ,"50",path_best+str+7], ["book" ,"55",path_best+str+8]];
   
 var the_list=".book-store .listOf-books";

var count=0;
var array=all_books;
var array_type="all";


 Create_products(all_books,all_books.length,the_list,2,all_books.length);
// Create products
//collections




$(".all").click(function(){
 
  if(is_all==false){
   $(".landing-page-8 .listOf-books").html("");
    
   Create_products(all_books,all_books.length,the_list,2,all_books.length);

   array=all_books;
   sort_array($(".range-1").val(),$(".range-2").val());
  
   is_all=true;
   is_rec=false;
   is_novel=false;
   is_best=false;
  
   $(this).css("color","red");
$(".best-year").css("color","brown");
$(".m-rec").css("color","brown");
$(".novel").css("color","brown");

  }
  

  });
 
  
  $(".best-year").click(function(){
  


   if(is_best==false){
    
  $(".landing-page-8 .listOf-books").html("");
  Create_products(best,best.length,the_list,2,best.length);

  array=best;

  sort_array($(".range-1").val(),$(".range-2").val());


  is_best=true;
  is_all=false;
  is_novel=false;
  is_rec=false;
 
  $(this).css("color","red");
$(".all").css("color","brown");
$(".m-rec").css("color","brown");
$(".novel").css("color","brown");
  
}
});

 
 $(".m-rec").click(function(){
 
    if(is_rec==false){
 $(".landing-page-8 .listOf-books").html("");
 Create_products(RecomnededBooks,RecomnededBooks.length,the_list,2,best.length);
 
 array=RecomnededBooks;
 sort_array($(".range-1").val(),$(".range-2").val());
 
 is_rec=true;
 is_all=false;
 is_novel=false;
 is_best=false;
 
 $(this).css("color","red");
$(".best-year").css("color","brown");
$(".all").css("color","brown");
$(".novel").css("color","brown");

}

});

 
 $(".novel").click(function(){
 
    if(is_novel==false){
 $(".landing-page-8 .listOf-books").html("");
 Create_products(novels,novels.length,the_list,2,novels.length);
 
 array=novels;
 sort_array($(".range-1").val(),$(".range-2").val());

 is_novel=true;
 is_all=false;
 is_best=false; 
 is_rec=false;   

 $(this).css("color","red");
$(".best-year").css("color","brown");
$(".m-rec").css("color","brown");
$(".all").css("color","brown");

}
});

//  end of collections

function Create_products(books,num,bookType,j,length){

var arr =books;
var listOfBooks=bookType;
var BookNum=num;
jQuery.each(arr,function(i,val){

  //create products
var p="<div class='product-"+(i+BookNum+1)+"'";
var qv="<div class='quick-view-"+(i+BookNum+1)+"'><p>Quick View</p></div></div>";
var btn="<p>I'm a product</p><p>$"+arr[i][1]+"</p></div><button class='button-"+(i+BookNum+1)+" button1'>Add to Cart</button></div></div></div>";
var res=p+"><div class='background-product'><!-- image of book     --><img src='"+ arr[i][2]+".jpeg' >"+ qv+"<div class='contener'><div class='product-name-and-price'>"+btn;

  


$(listOfBooks).append(res);
//set proprtyes to products
$(".product-"+(i+BookNum+1) ).css(css_products);
$(".quick-view-"+(i+BookNum+1)).css(css_quick_view);
$(".button-"+(i+BookNum+1)).css(css_btn);


$(".button-"+(i+BookNum+1)).hover(function() {
            $(this).css("background-color","#f44336")
          }).mouseout(function(){
              $(this).css({ "background-color": "brown"
              
              });
          });


$(".product-"+(i+BookNum+1) ).mouseenter(function(){
$(".quick-view-"+(i+BookNum+1)).css({"bottom":"0","z-index":"3"});
$(".button-"+(i+BookNum+1)).css({"display":"block"});
}).mouseleave(function(){
$(".quick-view-"+(i+BookNum+1)).css({"bottom":"-60px","z-index":"-3","transition": ".-5s"});
$(".button-"+(i+BookNum+1)).css("display","none");
});


var p_click=listOfBooks+" .product-"+(i+BookNum+1);
var btn_state=false;
  arr_btn_states.push(btn_state);
  $(".button-"+(i+BookNum+1)).click(function(){
  
  if(arr_btn_states[i]==false) {
  btn_state=true;
  arr_btn_states[i]=btn_state;
////-------------------

var cart='<div id="pro-cart-'+i+'" class="product-cart">'
      +
      '<div class="im" style=" height: 120px; width: fit-content;background-color: #f5ebc5;">'
        +
        '<img src='+ arr[i][2]+'.jpeg alt="" style="padding: 10px; height: 100px;width: 70px;" >'
    +
     '   </div>'
    +
      
     ' <div class="pro-info"> ' +'<p>I'+"'"+'m a product</p>'
      +  
     
      '<h4>$<span class="p-'+i+'">'+arr[i][1] +'</span></h4>'
        + 
        '<div style="display:flex;font-size: 25px;"> <div class="minus-'+i+'" style="position: absolute;left: 100px;margin-top: 14px;">-</div> '
        + 
        '<input type="number"class="number-'+i+'"' +' min="1" max="99"  value="1" style="height: 30px; width: 40px;margin-left: 10px; border: 2px solid brown;"readonly>'
        +
        '<div class="plus-'+i+'" style="position: absolute;left: 167px;margin-top: 16px;">+</div></div>'
        +'</div>'
      
      +
      '<div id="colse-circle-'+i+'" class="circle-" style="height: 20px;width: 20px;text-align: center; background-color: white;border-radius: 50%;border: .5px solid brown; margin-left: 60px;margin-top: 5px; ">'
       +
        '<span class="close" id="close-'+i+'" style="font-size: 19px; color: brown;">&times;</span>'
      +
       ' </div> </div>';
      

$(".your-cart").append(cart);
//-------------------
the_total+=parseInt(arr[i][1]);
$(".contener-view-cart .total span").text(the_total);

$(".minus-"+i).hover(function(){
$(this).css({ "cursor": "pointer" , "color":"red"});
}, function(){
  $(this).css({"color":"brown"});

});

$(".plus-"+i).hover(function(){
$(this).css({ "cursor": "pointer" , "color":"red"});
}, function(){
  $(this).css({"color":"brown"});

});
var num_of_quntity=1;
  $(".minus-"+i).click(function () {

    if (num_of_quntity-1 > 0 && num_of_quntity-1 < 99){
  var v_p= arr[i][1];

  num_of_quntity--;
  $(".number-"+i).val((num_of_quntity));
  
  
  $(".p-"+i).text(v_p*num_of_quntity);
 
  the_total-=parseInt(v_p);
  
  $(".contener-view-cart .total span").text(the_total);
  }
});

$(".plus-"+i).click(function () {
  if (num_of_quntity+1 > 0 && num_of_quntity+1 < 99){
   var v_p= arr[i][1];
   num_of_quntity++;
  
    $(".number-"+i).val(num_of_quntity);
  

$(".p-"+i).text(v_p*num_of_quntity);

the_total+=parseInt(v_p);

$(".contener-view-cart .total span").text(the_total);
}
});


$("#colse-circle-"+i).hover(function(){

  $("#close-"+i).css({"color":"white"});
$(this).css({"opacity": "1" ,"background-color": "red","border": ".5px solid red"
,
"cursor": "pointer"
});



}, function(){
  $("#close-"+i).css("color", "brown");
  $(this).css({"background-color": "white","border": ".5px solid brown"});

});
  

$("#colse-circle-"+i).click(function(){
$("#pro-cart-"+i).remove();
the_total-=parseInt(arr[i][1])*num_of_quntity;
$(".contener-view-cart .total span").text(the_total);
arr_btn_states[i]=false;
});

  }
});



$(p_click).click(function(){
 
 if(btn_state==false) {
  $(".bring-book-view").remove();
   var di='<div class="bring-book-view" style="display: none;" ></div>' 
   $(".contener-book-view-page").html(di); 
   $(".bring-book-view").load("book_view.html"); 

   localStorage.setItem('which_page', 'fillter_page');

 setTimeout(function () {
  
$(".show-hide-main-page").hide(500);
$(".bring-contact").hide(500);
$(".bring-fillter").hide(500);
$(".bring-our-story").hide(500);


$(".landing-page-9 .price-num").text(arr[i][1]);
$(".landing-page-9 img").attr("src", arr[i][2]+".jpeg");

var p_num=$(".landing-page-9 .price-num").text();

$(".landing-page-9 .q_num").val(1);
$(".landing-page-9 .q_num").bind('keyup mouseup', function () {

var q_num=$(this).val();
var res=(q_num*p_num);
if (q_num > 0 && q_num < 99)
 $(".landing-page-9 .price-num").text(res);

});


$(".bring-book-view").show(500);



$('html, body').animate({
        scrollTop: $(".header").offset().top+90
    }, 1500);



}, 500);

}

});


});
//End of products




$(listOfBooks).stop(true, true).animate({
  left:'-='+x
  // '-=200'
}, 500);



x=0;




if(count==0){
  count++;

$(".landing-page-8 #right-2").on("click", function () {



if( x!=0){
x+=210;
if($(the_list).position().left<=(210*(length)) ){



$(the_list).stop(true, true).animate({

left:x
}, 500);


}
}
});




$(".landing-page-8 #left-2").on("click", function () {



if(( x>=(-200*length)) && length>=5 ){
x-=210;
if($(the_list).position().left>=(-200*length)){
//x+=200;

$(the_list).stop(true, true).animate({
left:x
// '-=200'
}, 500);
}

}

});


}



}

var val_min=0;
var val_max=100;

$(".range-1").click(function(){
   val_min=$(".range-1").val();
  sort_array();
});


$(".range-2").click(function(){
  val_max=$(".range-2").val();
sort_array();
});




function sort_array(){


 
var re=array.sort(function(a, b) {
   
  return a[1] - b[1];
 
});

var new_arr=[];
var k=0;
var value="";
  while(k<re.length){  
     value=re[k][1];
    if(value>=val_min && value <=val_max){
   
      new_arr.push(re[k]);
   
}

k++;
   
}

$(".landing-page-8 .listOf-books").html("");
 Create_products(new_arr,new_arr.length,the_list,2,new_arr.length,array_type);
 
} 












});










</script>



</body>
</html>